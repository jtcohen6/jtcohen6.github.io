/**
 * Smart link underlines
 */

@mixin smart-underline($background: $background-color, $text: $accent-color, $selection: $accent-color-light, $position: 100%){
	a {
		color: inherit;
		text-decoration: none;
		background: -webkit-linear-gradient($background, $background), -webkit-linear-gradient($background, $background), -webkit-linear-gradient($text, $text);
		background-size: .05em 1px, .05em 1px, 1px 1px;
		background-repeat: no-repeat, no-repeat, repeat-x;
		text-shadow: 0.03em 0 $background, -0.03em 0 $background, 0 0.03em $background, 0 -0.03em $background, 0.06em 0 $background, -0.06em 0 $background, 0.09em 0 $background, -0.09em 0 $background, 0.12em 0 $background, -0.12em 0 $background, 0.15em 0 $background, -0.15em 0 $background;
		background-position-y: $position, $position, $position;
		background-position-x: 0%, 100%, 0%;

		&:hover {
			background-size: .05em 1px, .05em 1px, 1px 2px;
		}
		&::selection {
			text-shadow: 0.03em 0 $selection, -0.03em 0 $selection, 0 0.03em $selection, 0 -0.03em $selection, 0.06em 0 $selection, -0.06em 0 $selection, 0.09em 0 $selection, -0.09em 0 $selection, 0.12em 0 $selection, -0.12em 0 $selection, 0.15em 0 $selection, -0.15em 0 $selection;
			background: $selection;
		}
		&::-moz-selection {
			text-shadow: 0.03em 0 $selection, -0.03em 0 $selection, 0 0.03em $selection, 0 -0.03em $selection, 0.06em 0 $selection, -0.06em 0 $selection, 0.09em 0 $selection, -0.09em 0 $selection, 0.12em 0 $selection, -0.12em 0 $selection, 0.15em 0 $selection, -0.15em 0 $selection;
			background: $selection;
		}
		&:before, &:after, *, *:before, *:after {
			text-shadow: none;
		}
		&:visited{
			color: inherit;
		}
	}

	a.page-link {
		color: inherit;
		text-decoration: none;
		background: none;
		text-shadow: none;

		&:hover {
			background: -webkit-linear-gradient($background, $background), -webkit-linear-gradient($background, $background), -webkit-linear-gradient($text, $text);
			background-size: .05em 1px, .05em 1px, 1px 2px;
			background-repeat: no-repeat, no-repeat, repeat-x;
			text-shadow: 0.03em 0 $background, -0.03em 0 $background, 0 0.03em $background, 0 -0.03em $background, 0.06em 0 $background, -0.06em 0 $background, 0.09em 0 $background, -0.09em 0 $background, 0.12em 0 $background, -0.12em 0 $background, 0.15em 0 $background, -0.15em 0 $background;
			background-position-y: $position, $position, $position;
			background-position-x: 0%, 100%, 0%;
		}

	}

	a.site-title,.icon {
		color: inherit;
		text-decoration: none;
		background: none;
		text-shadow: none;

		&::selection {
			background: none;
			text-shadow: none;
		}
	}

	a.site-title:hover {
			text-decoration: none;
			background: none;
			text-shadow: none;
				> svg { path { fill: $text-color; } }
					}
}

@include smart-underline();
